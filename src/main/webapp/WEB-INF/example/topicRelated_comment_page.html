<table class="exampleTable" > 
	<thead> 
		<tr> 
			<th colspan="3">返回值</th>
		</tr> 
		<tr> 
			<th width="30%">变量</th> 
			<th width="20%">类型</th> 
			<th width="50%">说明</th> 
		</tr>
	</thead> 
	 <tbody> 
		<tr> 
			<td>topicRelated_comment_page</td> 
			<td><a style="color: #317ee7" onclick="anchorJump('#anchor_10'); return false;">PageView</a></td>
			<td>评论分页</td> 
		</tr> 
	</tbody> 
</table>



<table id="anchor_10" class="exampleTable" > 
	<thead> 
		<tr> 
			<th colspan="3">分页 PageView</th>
		</tr> 
		<tr> 
			<th width="30%">变量</th> 
			<th width="30%">类型</th>
			<th width="40%">说明</th> 
		</tr> 
	</thead> 
	<tbody> 
		<tr> 
			<td>records</td> 
			<td>List&lt<a style="color: #317ee7" onclick="anchorJump('#anchor_20'); return false;">Comment</a>></td>
			<td>数据展示列表</td>
		</tr>
		<tr> 
			<td>pageIndex</td> 
			<td><a style="color: #317ee7" onclick="anchorJump('#anchor_30'); return false;">PageIndex</a></td>
			<td>页码索引</td>
		</tr>
		<tr> 
			<td>totalpage</td> 
			<td>long</td>
			<td>总页数</td>
		</tr>
		<tr> 
			<td>maxresult</td> 
			<td>long</td>
			<td>每页显示记录数</td>
		</tr>
		<tr> 
			<td>currentpage</td> 
			<td>long</td>
			<td>当前页</td>
		</tr>
		<tr> 
			<td>pagecount</td> 
			<td>long</td>
			<td>页码显示总数</td>
		</tr>
		<tr> 
			<td>onUrl</td> 
			<td>String</td>
			<td>上一页URL</td>
		</tr>
		<tr> 
			<td>nextUrl</td> 
			<td>String</td>
			<td>下一页URL</td>
		</tr>
	</tbody> 
</table>
<table id="anchor_30" class="exampleTable" > 
	<thead> 
		<tr> 
			<th colspan="3">分页索引 PageIndex</th>
		</tr> 
		<tr> 
			<th width="30%">变量</th> 
			<th width="30%">类型</th>
			<th width="40%">说明</th> 
		</tr> 
	</thead> 
	<tbody> 
		<tr> 
			<td>startindex</td> 
			<td>long</td>
			<td>分页开始索引</td>
		</tr>
		<tr> 
			<td>endindex</td> 
			<td>long</td>
			<td>分页结束索引</td>
		</tr>
	</tbody> 
</table>
<table id="anchor_20" class="exampleTable" > 
	<thead> 
		<tr> 
			<th colspan="4">评论 Comment</th>
		</tr> 
		<tr> 
			<th width="30%">变量</th> 
			<th width="30%">类型</th>
			<th width="40%" colspan="2">说明</th> 
		</tr> 
	</thead> 
	<tbody> 
		<tr> 
			<td>id</td> 
			<td>Long</td>
			<td colspan="2">Id</td>
		</tr>
		<tr> 
			<td>isStaff</td> 
			<td>Boolean</td>
			<td colspan="2">是否是员工   true:员工   false:会员</td>
		</tr>
		<tr> 
			<td>userName</td> 
			<td>String</td>
			<td colspan="2">用户名称</td>
		</tr>
		<tr> 
			<td>account</td> 
			<td>String</td>
			<td colspan="2">账号</td>
		</tr>
		<tr> 
			<td>nickname</td> 
			<td>String</td>
			<td colspan="2">呢称</td>
		</tr>
		<tr> 
			<td>userInfoStatus</td> 
			<td>Integer</td>
			<td colspan="2">用户信息状态 -30.账号已注销(不显示数据) -20.账号已逻辑删除(不显示数据) -10.账号已禁用(不显示数据)  0.正常 10.账号已禁用(显示数据) 20.账号已逻辑删除(显示数据)</td>
		</tr>
		<tr> 
			<td>userRoleNameList</td> 
			<td>List&ltString></td>
			<td colspan="2">用户角色名称集合</td>
		</tr>
		<tr> 
			<td>avatarPath</td> 
			<td>String</td>
			<td>头像路径</td>
			<td width="15%" rowspan="2">页面上显示200*200头像示例${comment.avatarPath}${comment.avatarName}   &nbsp;&nbsp;显示100*100头像示例${comment.avatarPath}100x100/${comment.avatarName}</td> 
		</tr>
		<tr> 
			<td>avatarName</td> 
			<td>String</td>
			<td>头像名称</td>
		</tr>
		<tr> 
			<td>topicId</td> 
			<td>Long</td>
			<td colspan="2">话题Id</td>
		</tr>
		<tr> 
			<td>quoteList</td> 
			<td>List&lt<a style="color: #317ee7" onclick="anchorJump('#anchor_60'); return false;">Quote</a>></td>
			<td colspan="2">引用集合</td>
		</tr>
		<tr> 
			<td>content</td> 
			<td>String</td>
			<td colspan="2">评论内容；本字段在存入数据库时已进行安全过滤，可以加上&lt#noescape>&lt/#noescape>标签关闭转义，以输出html标签</td>
		</tr>
		<tr> 
			<td>postTime</td> 
			<td>Date</td>
			<td colspan="2">评论时间</td>
		</tr>
		<tr> 
			<td>totalReply</td> 
			<td>Integer</td>
			<td colspan="2">总回复数</td>
		</tr>
		<tr> 
			<td>ipAddress</td> 
			<td>String</td>
			<td colspan="2">IP归属地</td>
		</tr>
		<tr> 
			<td>replyList</td> 
			<td>List&lt<a style="color: #317ee7" onclick="anchorJump('#anchor_70'); return false;">Reply</a>></td>
			<td colspan="2">回复集合</td>
		</tr>
	</tbody> 
</table>

<table id="anchor_60" class="exampleTable" > 
	<thead> 
		<tr> 
			<th colspan="4">引用 Quote</th>
		</tr> 
		<tr> 
			<th width="30%">变量</th> 
			<th width="30%">类型</th>
			<th width="40%" colspan="2">说明</th> 
		</tr> 
	</thead> 
	<tbody> 
		<tr> 
			<td>commentId</td> 
			<td>Long</td>
			<td colspan="2">评论Id</td>
		</tr>
		<tr> 
			<td>isStaff</td> 
			<td>Boolean</td>
			<td colspan="2">是否是员工   true:员工   false:会员</td>
		</tr>
		<tr> 
			<td>userName</td> 
			<td>String</td>
			<td colspan="2">用户名称</td>
		</tr>
		<tr> 
			<td>account</td> 
			<td>String</td>
			<td colspan="2">账号</td>
		</tr>
		<tr> 
			<td>nickname</td> 
			<td>String</td>
			<td colspan="2">呢称</td>
		</tr>
		<tr> 
			<td>avatarPath</td> 
			<td>String</td>
			<td>头像路径</td>
			<td width="15%" rowspan="2">页面上显示200*200头像示例${quote.avatarPath}${quote.avatarName}   &nbsp;&nbsp;显示100*100头像示例${quote.avatarPath}100x100/${quote.avatarName}</td> 
		</tr>
		<tr> 
			<td>avatarName</td> 
			<td>String</td>
			<td>头像名称</td>
		</tr>
		<tr> 
			<td>content</td> 
			<td>String</td>
			<td colspan="2">评论内容</td>
		</tr>
	</tbody> 
</table>
<table id="anchor_70" class="exampleTable" > 
	<thead> 
		<tr> 
			<th colspan="4">回复 Reply</th>
		</tr> 
		<tr> 
			<th width="30%">变量</th> 
			<th width="30%">类型</th>
			<th width="40%" colspan="2">说明</th> 
		</tr> 
	</thead> 
	<tbody> 
		<tr> 
			<td>id</td> 
			<td>Long</td>
			<td colspan="2">Id</td>
		</tr>
		<tr> 
			<td>isStaff</td> 
			<td>Boolean</td>
			<td colspan="2">是否是员工   true:员工   false:会员</td>
		</tr>
		<tr> 
			<td>userName</td> 
			<td>String</td>
			<td colspan="2">用户名称</td>
		</tr>
		<tr> 
			<td>account</td> 
			<td>String</td>
			<td colspan="2">账号</td>
		</tr>
		<tr> 
			<td>nickname</td> 
			<td>String</td>
			<td colspan="2">呢称</td>
		</tr>
		<tr> 
			<td>avatarPath</td> 
			<td>String</td>
			<td>头像路径</td>
			<td width="15%" rowspan="2">页面上显示200*200头像示例${reply.avatarPath}${reply.avatarName}   &nbsp;&nbsp;显示100*100头像示例${reply.avatarPath}100x100/${reply.avatarName}</td> 
		</tr>
		<tr> 
			<td>avatarName</td> 
			<td>String</td>
			<td>头像名称</td>
		</tr>
		<tr> 
			<td>topicId</td> 
			<td>Long</td>
			<td colspan="2">话题Id</td>
		</tr>
		<tr> 
			<td>content</td> 
			<td>String</td>
			<td colspan="2">回复内容</td>
		</tr>
		<tr> 
			<td>commentId</td> 
			<td>Long</td>
			<td colspan="2">评论Id</td>
		</tr>
		<tr> 
			<td>postTime</td> 
			<td>Date</td>
			<td colspan="2">回复时间</td>
		</tr>
		<tr> 
			<td>ipAddress</td> 
			<td>String</td>
			<td colspan="2">IP归属地</td>
		</tr>
	</tbody> 
</table>


<table class="exampleTable" > 
	<thead>
		<tr> 
			<th colspan="5">方法支持参数</th>
		</tr>
		<tr> 
			<th width="30%">参数</th> 
			<th width="20%">类型</th> 
			<th width="10%">是否必填</th> 
			<th width="40%" colspan="2">说明</th> 
		</tr> 
	</thead> 
	 <tbody> 
		<tr> 
			<td>topicId</td> 
			<td>Long</td>
			<td>是</td>
			<td>话题Id</td> 
		</tr>
		<tr> 
			<td>commentId</td> 
			<td>Long</td>
			<td>否</td>
			<td>评论Id</td> 
		</tr>
		<tr> 
			<td>page</td> 
			<td>Long</td>
			<td>否</td>
			<td>页码</td> 
		</tr>
	</tbody> 
</table>
<h2 style="margin:0;padding:0; margin-top: 10px;">示例</h2>
<textarea name="exampleCode">
<#--可接收参数 topicId:话题Id  commentId:评论Id  page:分页-->
<@function topicId="${url_topicId}" commentId="${url_commentId}" page="${url_page}" >

	<#if pageView.records?exists>
		<#list pageView.records as comment>

			<#-- 账号 -->
			${comment.account}
			<#-- 评论时间 -->
			${comment.postTime}
			
			<#-- 引用内容 -->
			<#if comment.quoteList?? && comment.quoteList?size gt 0> 	
				<#assign quoteContent = ""> 
				<#list comment.quoteList as quote>
					<#assign quoteContent = "<div>"+quoteContent+"<span>"+quote.account+"&nbsp;的评论：</span><br/>"+quote.content+"</div>"> 
				</#list>
				<#noescape>${quoteContent}</#noescape>
			
			</#if> 
	
					
			<#-- 评论内容 -->
			<#noescape>${comment.content}</#noescape>
			
			共有 ${comment.totalReply} 条回复
			<#list comment.replyList as reply>
				<#-- 账号 -->
				${reply.account}
				<#-- 回复内容 -->
				${reply.content}
				<#-- 回复时间 -->
				${reply.postTime}
			</#list> 
			
		</#list>
	</#if>	
</@function>
</textarea>